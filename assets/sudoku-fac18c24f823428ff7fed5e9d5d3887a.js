define("sudoku/app",["exports","ember","ember/resolver","ember/load-initializers","sudoku/config/environment"],function(e,t,n,r,i){"use strict";t["default"].MODEL_FACTORY_INJECTIONS=!0;var a=t["default"].Application.extend({modulePrefix:i["default"].modulePrefix,podModulePrefix:i["default"].podModulePrefix,Resolver:n["default"]});r["default"](a,i["default"].modulePrefix),e["default"]=a}),define("sudoku/constraints/cannot-have-duplicated-values",["exports","ember","sudoku/constraints/result"],function(e,t,n){"use strict";e["default"]=t["default"].Object.extend({cells:null,validate:function(){var e=this.get("cells").map(function(e){return e.get("number")}).compact(),t=this.get("cells").filter(function(t){return e.contains(t.get("number"))}),r=function(e){var n=t.filter(function(t){return e.get("number")===t.get("number")});return n.length>1},i=this.get("cells").filter(r);return n["default"].create({valid:0===i.length,invalidCells:i})}})}),define("sudoku/constraints/result",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Object.extend({valid:!1,invalidCells:null,init:function(){null===this.get("invalidCells")&&this.set("invalidCells",[])}})}),define("sudoku/constraints/should-have-all-values",["exports","ember","sudoku/constraints/result"],function(e,t,n){"use strict";e["default"]=t["default"].Object.extend({allValues:[1,2,3,4,5,6,7,8,9],cells:null,validate:function(){var e=this.get("cells").map(function(e){return e.get("number")}).compact();return n["default"].create({valid:this.get("allValues").every(function(t){return e.contains(t)})})}})}),define("sudoku/controllers/application",["exports","ember"],function(e,t){"use strict";var n={ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40};e["default"]=t["default"].Controller.extend({board:null,init:function(){this._super(),this.board=this.get("boardFactoryService").createBoard(),console.log(this.board)},actions:{mouseEnter:function(){},mouseLeave:function(){},click:function(e){this.activateCell(e)},arrowPress:function(e,t){this.moveCell(e,t.which)},deletePress:function(e){e.set("number",null)},numberPress:function(e,t){e.set("number",t),this.validateBoard()}},activateCell:function(e){e.get("isEnabled")&&(this.get("board.cells").setEach("isActive",!1),e.set("isActive",!0))},moveCell:function(e,t){var r=null;switch(t){case n.ARROW_LEFT:r=this.get("board").cellLeftFor(e);break;case n.ARROW_UP:r=this.get("board").cellUpFor(e);break;case n.ARROW_RIGHT:r=this.get("board").cellRightFor(e);break;case n.ARROW_DOWN:r=this.get("board").cellDownFor(e)}void 0!==r&&this.activateCell(r)},validateBoard:function(){var e=this.get("boardValidatorService").validate(this.get("board"));e.get("valid")||(this.get("board.cells").setEach("isValid",!0),e.get("invalidCells").forEach(function(e){e.set("isValid",!1)}))}})}),define("sudoku/initializers/app-version",["exports","sudoku/config/environment","ember"],function(e,t,n){"use strict";var r=n["default"].String.classify;e["default"]={name:"App Version",initialize:function(e,i){var a=r(i.toString());n["default"].libraries.register(a,t["default"].APP.version)}}}),define("sudoku/initializers/board-factory-service",["exports"],function(e){"use strict";function t(e,t){t.inject("controller","boardFactoryService","service:board-factory")}e.initialize=t,e["default"]={name:"board-factory-service",initialize:t}}),define("sudoku/initializers/board-initializer-service",["exports"],function(e){"use strict";function t(e,t){t.inject("service:board-factory","boardInitializerService","service:board-initializer")}e.initialize=t,e["default"]={name:"board-initializer-service",initialize:t}}),define("sudoku/initializers/board-validator-service",["exports"],function(e){"use strict";function t(e,t){t.inject("controller","boardValidatorService","service:board-validator")}e.initialize=t,e["default"]={name:"board-validator-service",initialize:t}}),define("sudoku/initializers/export-application-global",["exports","ember","sudoku/config/environment"],function(e,t,n){"use strict";function r(e,r){var i=t["default"].String.classify(n["default"].modulePrefix);n["default"].exportApplicationGlobal&&!window[i]&&(window[i]=r)}e.initialize=r,e["default"]={name:"export-application-global",initialize:r}}),define("sudoku/models/block",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Object.extend({x1:null,x2:null,y1:null,y2:null,cells:null,contains:function(e){return this.get("cells").find(function(t){return t.isSame(e)})}})}),define("sudoku/models/board",["exports","ember","sudoku/models/cell","sudoku/models/block"],function(e,t,n,r){"use strict";e["default"]=t["default"].Object.extend({cells:null,blocks:null,constraints:null,init:function(){var e,t,i=this;for(i._super(),i.set("cells",[]),i.set("blocks",[]),i.set("constraints",[]),e=0;9>e;e++)for(t=0;9>t;t++)i.get("cells").addObject(n["default"].create({x:e,y:t}));var a=function(e){return e.get("x")>=l&&e.get("x")<=c&&e.get("y")>=o&&e.get("y")<=s};for(e=0;9>e;e+=3)for(t=0;9>t;t+=3){var l=e,c=e+2,o=t,s=t+2;this.get("blocks").addObject(r["default"].create({x1:l,x2:c,y1:o,y2:s,cells:i.get("cells").filter(a)}))}},rows:function(){for(var e=[],t=0;9>t;t++)e.addObject(this.rowCellsFor(this.cellAt(t,t)));return e}.property(),columns:function(){for(var e=[],t=0;9>t;t++)e.addObject(this.columnCellsFor(this.cellAt(t,t)));return e}.property(),blockCellsFor:function(e){var t=this.get("blocks").find(function(t){return t.contains(e)});return void 0===t?[]:t.cells},rowCellsFor:function(e){return this.get("cells").filter(function(t){return t.isInRowWith(e)})},columnCellsFor:function(e){return this.get("cells").filter(function(t){return t.isInColumnWith(e)})},cellLeftFor:function(e){return this.cellAt(e.get("x"),e.get("y")-1)},cellUpFor:function(e){return this.cellAt(e.get("x")-1,e.get("y"))},cellRightFor:function(e){return this.cellAt(e.get("x"),e.get("y")+1)},cellDownFor:function(e){return this.cellAt(e.get("x")+1,e.get("y"))},cellAt:function(e,t){return this.get("cells").find(function(n){return n.get("x")===e&&n.get("y")===t})}})}),define("sudoku/models/cell",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Object.extend({number:null,x:null,y:null,isActive:!1,isValid:!0,isEnabled:!1,isSame:function(e){return e.get("x")===this.get("x")&&e.get("y")===this.get("y")},isInRowWith:function(e){return e.get("x")===this.get("x")},isInColumnWith:function(e){return e.get("y")===this.get("y")}})}),define("sudoku/router",["exports","ember","sudoku/config/environment"],function(e,t,n){"use strict";var r=t["default"].Router.extend({location:n["default"].locationType});r.map(function(){}),e["default"]=r}),define("sudoku/services/board-factory",["exports","ember","sudoku/models/board","sudoku/constraints/cannot-have-duplicated-values","sudoku/constraints/should-have-all-values"],function(e,t,n,r,i){"use strict";e["default"]=t["default"].Object.extend({createBoard:function(){return this.applyConstraints(this.initialize(n["default"].create()))},applyConstraints:function(e){var t=function(t){e.get("constraints").pushObjects([r["default"].create({cells:t}),i["default"].create({cells:t})])};return e.get("blocks").forEach(function(e){t(e.get("cells"))}),e.get("rows").forEach(function(e){t(e)}),e.get("columns").forEach(function(e){t(e)}),e},initialize:function(e){return this.get("boardInitializerService").initialize(e)}})}),define("sudoku/services/board-initializer",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Object.extend({initialize:function(e){var t=[[7,1,8,5,4,3,6,2,9],[6,9,3,2,1,8,5,7,4],[5,4,2,9,7,6,3,1,8],[4,3,5,7,9,1,8,6,2],[1,6,7,8,3,2,4,9,5],[2,8,9,4,6,5,7,3,1],[8,5,1,6,2,7,9,4,3],[9,2,6,3,5,4,1,8,7],[3,7,4,1,8,9,2,5,6]];t.forEach(function(t,n){t.forEach(function(t,r){e.cellAt(n,r).set("number",t)})});for(var n,r=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},i=function(e){return e.cellAt(r(0,8),r(0,8))},a=r(40,60);a>0;)n=i(e),null!==n.get("number")&&(n.set("number",null),a--);return e.get("cells").forEach(function(e){null===e.get("number")&&e.set("isEnabled",!0)}),e}})}),define("sudoku/services/board-validator",["exports","ember","sudoku/constraints/result"],function(e,t,n){"use strict";e["default"]=t["default"].Object.extend({validate:function(e){var t=e.get("constraints").map(function(e){return e.validate()});return n["default"].create({valid:t.every(function(e){return e.get("valid")}),invalidCells:t.reduce(function(e,t){return e.concat(t.get("invalidCells"))},[]).reduce(function(e,t){return void 0===e.find(function(e){return e.isSame(t)})&&e.addObject(t),e},[])})}})}),define("sudoku/templates/application",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){var e=function(){var e=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("                ");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},render:function(e,t,n){var r=t.dom,i=t.hooks,a=i.get,l=i.inline;r.detectNamespace(n);var c;t.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(c=this.build(r),this.hasRendered?this.cachedFragment=c:this.hasRendered=!0),this.cachedFragment&&(c=r.cloneNode(this.cachedFragment,!0))):c=this.build(r);var o=r.createMorphAt(c,0,1,n);return l(t,o,e,"view",["cell"],{cell:a(t,e,"cell")}),c}}}();return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","block");var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createTextNode("        ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},render:function(t,n,r){var i=n.dom,a=n.hooks,l=a.get,c=a.block;i.detectNamespace(r);var o;n.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(o=this.build(i),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=i.cloneNode(this.cachedFragment,!0))):o=this.build(i);var s=i.createMorphAt(i.childAt(o,[1]),0,1);return c(n,s,t,"each",[l(n,t,"block.cells")],{keyword:"cell"},e,null),o}}}();return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","board");var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},render:function(t,n,r){var i=n.dom,a=n.hooks,l=a.get,c=a.block,o=a.content;i.detectNamespace(r);var s;n.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(s=this.build(i),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=i.cloneNode(this.cachedFragment,!0))):s=this.build(i);var u=i.createMorphAt(i.childAt(s,[0]),0,1),d=i.createMorphAt(s,1,2,r);return c(n,u,t,"each",[l(n,t,"board.blocks")],{keyword:"block"},e,null),o(n,d,t,"outlet"),s}}}())}),define("sudoku/templates/cell",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","point");var r=e.createTextNode("\n    x = ");e.appendChild(n,r);var r=e.createTextNode(", y = ");e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","number");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createTextNode("\n");return e.appendChild(n,r),e.appendChild(t,n),t},render:function(e,t,n){var r=t.dom,i=t.hooks,a=i.content;r.detectNamespace(n);var l;t.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(l=this.build(r),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=r.cloneNode(this.cachedFragment,!0))):l=this.build(r);var c=r.childAt(l,[0]),o=r.createMorphAt(c,0,1),s=r.createMorphAt(c,1,2),u=r.createMorphAt(r.childAt(l,[2]),0,1);return a(t,o,e,"cell.x"),a(t,s,e,"cell.y"),a(t,u,e,"cell.number"),l}}}())}),define("sudoku/views/cell",["exports","ember"],function(e,t){"use strict";var n=[37,38,39,40],r=[8,46],i=[49,50,51,52,53,54,55,56,57];e["default"]=t["default"].View.extend({templateName:"cell",classNameBindings:[":cell","isActive:active","isValid::invalid","isEnabled:enabled:disabled"],isActive:function(){return this.get("cell.isActive")}.property("cell.isActive"),isValid:function(){return this.get("cell.isValid")}.property("cell.isValid"),isEnabled:function(){return this.get("cell.isEnabled")}.property("cell.isEnabled"),becomeFocused:function(){this.$().attr({tabindex:1}),this.$().focus()}.observes("cell.isActive"),eventManager:t["default"].Object.create({mouseEnter:function(e,t){t.get("controller").send("mouseEnter",t.get("cell"))},mouseLeave:function(e,t){t.get("controller").send("mouseLeave",t.get("cell"))},click:function(e,t){t.get("controller").send("click",t.get("cell"))},keyDown:function(e,t){n.contains(e.which)&&(e.preventDefault(),t.get("controller").send("arrowPress",t.get("cell"),e)),r.contains(e.which)&&(e.preventDefault(),t.get("controller").send("deletePress",t.get("cell")))},keyPress:function(e,t){i.contains(e.which)&&t.get("controller").send("numberPress",t.get("cell"),Number.parseInt(String.fromCharCode(e.which)))}})})}),define("sudoku/config/environment",["ember"],function(e){var t="sudoku";try{var n=t+"/config/environment",r=e["default"].$('meta[name="'+n+'"]').attr("content"),i=JSON.parse(unescape(r));return{"default":i}}catch(a){throw new Error('Could not read config from meta tag with name "'+n+'".')}}),runningTests?require("sudoku/tests/test-helper"):require("sudoku/app")["default"].create({name:"sudoku",version:"0.0.0.af1ef261"});